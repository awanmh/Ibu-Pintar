"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[227],{608:(a,e,l)=>{l.r(e),l.d(e,{default:()=>f});var t=l(641),n=l(953),u=l(33),i=l(751),s=l(220),k=l(317);const c={class:"treatment-admin"},o={class:"header"},d={class:"tabs"},r={key:0},v={class:"treatment-list"},m=["src"],p={class:"card-actions"},L=["onClick"],g=["onClick"],C=["onClick"],b={key:0,class:"modal-overlay"},h={class:"modal-content"},y=["value"],T={class:"modal-actions"},E={__name:"ManageTreatments",setup(a){const e=(0,s.rd)(),l=(0,n.KR)([]),E=(0,n.KR)("all"),K=(0,n.KR)(null),_=(0,n.KR)(!1),f=(0,n.KR)([]),R=(0,n.KR)(null);(0,t.sV)((async()=>{const{data:a}=await k.A.getAllTreatments();l.value=a}));const X=(0,t.EW)((()=>"all"===E.value?l.value:l.value.filter((a=>a.type===E.value)))),w=async a=>{confirm("Yakin ingin menghapus treatment ini?")&&(await k.A.deleteTreatment(a),l.value=l.value.filter((e=>e.id!==a)))},A=async a=>{K.value=a,_.value=!0;const{data:e}=await k.A.getAllTreatments();f.value=e.filter((a=>"package"===a.type))},P=async()=>{try{await k.A.addToPackage({packageId:R.value,treatmentId:K.value}),alert("Berhasil ditambahkan ke dalam paket!"),_.value=!1}catch(a){alert("Gagal menambahkan ke paket."),console.error(a)}};return(a,l)=>((0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",c,[(0,t.Lk)("div",o,[l[6]||(l[6]=(0,t.Lk)("h2",null,"Manajemen Treatment",-1)),(0,t.Lk)("button",{onClick:l[0]||(l[0]=a=>(0,n.R1)(e).push("/admin/treatments/new")),class:"add-btn"},"+ Tambah Treatment")]),(0,t.Lk)("div",d,[(0,t.Lk)("button",{class:(0,u.C4)({active:"all"===E.value}),onClick:l[1]||(l[1]=a=>E.value="all")},"Semua",2),(0,t.Lk)("button",{class:(0,u.C4)({active:"single"===E.value}),onClick:l[2]||(l[2]=a=>E.value="single")},"Single",2),(0,t.Lk)("button",{class:(0,u.C4)({active:"package"===E.value}),onClick:l[3]||(l[3]=a=>E.value="package")},"Package",2)]),0===X.value.length?((0,t.uX)(),(0,t.CE)("div",r,"Tidak ada treatment ditemukan.")):(0,t.Q3)("",!0),(0,t.Lk)("div",v,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(X.value,(a=>((0,t.uX)(),(0,t.CE)("div",{class:"treatment-card",key:a.id},[(0,t.Lk)("img",{src:a.imageUrl,alt:"gambar"},null,8,m),(0,t.Lk)("h3",null,(0,u.v_)(a.name),1),(0,t.Lk)("p",null,[l[7]||(l[7]=(0,t.Lk)("strong",null,"Durasi:",-1)),(0,t.eW)(" "+(0,u.v_)(a.duration),1)]),(0,t.Lk)("p",null,[l[8]||(l[8]=(0,t.Lk)("strong",null,"Kategori:",-1)),(0,t.eW)(" "+(0,u.v_)(a.category),1)]),(0,t.Lk)("p",null,[l[9]||(l[9]=(0,t.Lk)("strong",null,"Harga:",-1)),(0,t.eW)(" Rp"+(0,u.v_)(a.price.toLocaleString()),1)]),(0,t.Lk)("p",null,[l[10]||(l[10]=(0,t.Lk)("strong",null,"Tipe:",-1)),(0,t.eW)(" "+(0,u.v_)(a.type),1)]),(0,t.Lk)("div",p,[(0,t.Lk)("button",{onClick:l=>(0,n.R1)(e).push(`/admin/treatments/edit/${a.id}`)},"Edit",8,L),(0,t.Lk)("button",{onClick:e=>w(a.id),class:"delete"},"Hapus",8,g),"single"===a.type?((0,t.uX)(),(0,t.CE)("button",{key:0,onClick:e=>A(a.id)},"Tambah ke Paket",8,C)):(0,t.Q3)("",!0)])])))),128))])]),_.value?((0,t.uX)(),(0,t.CE)("div",b,[(0,t.Lk)("div",h,[l[12]||(l[12]=(0,t.Lk)("h3",null,"Pilih Paket",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":l[4]||(l[4]=a=>R.value=a)},[l[11]||(l[11]=(0,t.Lk)("option",{disabled:"",value:""},"-- Pilih Paket --",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(f.value,(a=>((0,t.uX)(),(0,t.CE)("option",{value:a.id,key:a.id},(0,u.v_)(a.name),9,y)))),128))],512),[[i.u1,R.value]]),(0,t.Lk)("div",T,[(0,t.Lk)("button",{onClick:P},"Tambah"),(0,t.Lk)("button",{onClick:l[5]||(l[5]=a=>_.value=!1)},"Batal")])])])):(0,t.Q3)("",!0)],64))}};var K=l(262);const _=(0,K.A)(E,[["__scopeId","data-v-7748ad18"]]),f=_}}]);
//# sourceMappingURL=227.61bfe7ca.js.map