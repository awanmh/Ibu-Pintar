"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[482],{482:(e,a,l)=>{l.r(a),l.d(a,{default:()=>h});var t=l(641),n=l(33),r=l(751),u=l(953),o=l(220),i=l(317);const s={class:"form-container"},p={class:"form-group"},m={class:"form-group"},c={class:"form-group"},d=["src"],v={class:"form-row"},k={class:"form-group"},L={class:"form-group"},b={class:"form-group"},f={class:"form-group"},g={class:"form-actions"},y={type:"submit"},T={__name:"TreatmentForm",setup(e){const a=(0,o.lq)(),l=(0,o.rd)(),T="EditTreatment"===a.name,w=(0,u.KR)({name:"",duration:"",category:"",description:"",price:0}),U=(0,u.KR)(null),h=(0,u.KR)(null),V=e=>{const a=e.target.files[0];a&&(U.value=a,h.value=URL.createObjectURL(a))};(0,t.sV)((async()=>{if(T){const{data:e}=await i.A.getTreatmentById(a.params.id);w.value=e,h.value=e.imageUrl||""}}));const R=async()=>{const e=new FormData;for(const a in w.value)e.append(a,w.value[a]);U.value&&e.append("image",U.value),T?await i.A.updateTreatment(a.params.id,e):await i.A.createTreatment(e),l.push("/admin/treatments")};return(e,a)=>((0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("h2",null,(0,n.v_)(T?"Edit Treatment":"Tambah Treatment"),1),(0,t.Lk)("form",{onSubmit:(0,r.D$)(R,["prevent"]),class:"form",enctype:"multipart/form-data"},[(0,t.Lk)("div",p,[a[6]||(a[6]=(0,t.Lk)("label",null,"Nama Treatment",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>w.value.name=e),type:"text",required:""},null,512),[[r.Jo,w.value.name]])]),(0,t.Lk)("div",m,[a[8]||(a[8]=(0,t.Lk)("label",{for:"type"},"Tipe Treatment",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>w.value.type=e)},a[7]||(a[7]=[(0,t.Lk)("option",{value:"single"},"Single",-1),(0,t.Lk)("option",{value:"package"},"Package",-1)]),512),[[r.u1,w.value.type]])]),(0,t.Lk)("div",c,[a[9]||(a[9]=(0,t.Lk)("label",null,"Gambar",-1)),(0,t.Lk)("input",{type:"file",onChange:V,accept:"image/*"},null,32),h.value?((0,t.uX)(),(0,t.CE)("img",{key:0,src:h.value,alt:"Preview",class:"preview"},null,8,d)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",v,[(0,t.Lk)("div",k,[a[10]||(a[10]=(0,t.Lk)("label",null,"Durasi",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>w.value.duration=e),type:"text"},null,512),[[r.Jo,w.value.duration]])]),(0,t.Lk)("div",L,[a[11]||(a[11]=(0,t.Lk)("label",null,"Kategori",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>w.value.category=e),type:"text"},null,512),[[r.Jo,w.value.category]])])]),(0,t.Lk)("div",b,[a[12]||(a[12]=(0,t.Lk)("label",null,"Deskripsi",-1)),(0,t.bo)((0,t.Lk)("textarea",{"onUpdate:modelValue":a[4]||(a[4]=e=>w.value.description=e),rows:"4"},null,512),[[r.Jo,w.value.description]])]),(0,t.Lk)("div",f,[a[13]||(a[13]=(0,t.Lk)("label",null,"Harga (Rp)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>w.value.price=e),type:"number",min:"0",required:""},null,512),[[r.Jo,w.value.price,void 0,{number:!0}]])]),(0,t.Lk)("div",g,[(0,t.Lk)("button",y,(0,n.v_)(T?"Perbarui":"Simpan"),1)])],32)]))}};var w=l(262);const U=(0,w.A)(T,[["__scopeId","data-v-223250fc"]]),h=U}}]);
//# sourceMappingURL=482.b9f5f5e3.js.map