{"version":3,"file":"js/227.61bfe7ca.js","mappings":"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","sources":["webpack://frontend/./src/views/admin/ManageTreatments.vue","webpack://frontend/./src/views/admin/ManageTreatments.vue?f3dc"],"sourcesContent":["<template>\r\n  <div class=\"treatment-admin\">\r\n    <div class=\"header\">\r\n      <h2>Manajemen Treatment</h2>\r\n      <button @click=\"router.push('/admin/treatments/new')\" class=\"add-btn\">+ Tambah Treatment</button>\r\n    </div>\r\n\r\n    <div class=\"tabs\">\r\n      <button :class=\"{ active: filterType === 'all' }\" @click=\"filterType = 'all'\">Semua</button>\r\n      <button :class=\"{ active: filterType === 'single' }\" @click=\"filterType = 'single'\">Single</button>\r\n      <button :class=\"{ active: filterType === 'package' }\" @click=\"filterType = 'package'\">Package</button>\r\n    </div>\r\n\r\n    <div v-if=\"filteredTreatments.length === 0\">Tidak ada treatment ditemukan.</div>\r\n\r\n    <div class=\"treatment-list\">\r\n      <div class=\"treatment-card\" v-for=\"t in filteredTreatments\" :key=\"t.id\">\r\n        <img :src=\"t.imageUrl\" alt=\"gambar\" />\r\n        <h3>{{ t.name }}</h3>\r\n        <p><strong>Durasi:</strong> {{ t.duration }}</p>\r\n        <p><strong>Kategori:</strong> {{ t.category }}</p>\r\n        <p><strong>Harga:</strong> Rp{{ t.price.toLocaleString() }}</p>\r\n        <p><strong>Tipe:</strong> {{ t.type }}</p>\r\n\r\n        <div class=\"card-actions\">\r\n          <button @click=\"router.push(`/admin/treatments/edit/${t.id}`)\">Edit</button>\r\n          <button @click=\"handleDelete(t.id)\" class=\"delete\">Hapus</button>\r\n          <button v-if=\"t.type === 'single'\" @click=\"openPackageModal(t.id)\">Tambah ke Paket</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modal Tambah ke Paket -->\r\n  <div v-if=\"showModal\" class=\"modal-overlay\">\r\n    <div class=\"modal-content\">\r\n      <h3>Pilih Paket</h3>\r\n      <select v-model=\"selectedPackageId\">\r\n        <option disabled value=\"\">-- Pilih Paket --</option>\r\n        <option v-for=\"pkg in packageOptions\" :value=\"pkg.id\" :key=\"pkg.id\">\r\n          {{ pkg.name }}\r\n        </option>\r\n      </select>\r\n      <div class=\"modal-actions\">\r\n        <button @click=\"addToPackage\">Tambah</button>\r\n        <button @click=\"showModal = false\">Batal</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport ApiService from '@/services/ApiService';\r\n\r\nconst router = useRouter();\r\nconst treatments = ref([]);\r\nconst filterType = ref('all');\r\n\r\nconst selectedTreatmentId = ref(null);\r\nconst showModal = ref(false);\r\nconst packageOptions = ref([]);\r\nconst selectedPackageId = ref(null);\r\n\r\nonMounted(async () => {\r\n  const { data } = await ApiService.getAllTreatments();\r\n  treatments.value = data;\r\n});\r\n\r\nconst filteredTreatments = computed(() => {\r\n  if (filterType.value === 'all') return treatments.value;\r\n  return treatments.value.filter((t) => t.type === filterType.value);\r\n});\r\n\r\nconst handleDelete = async (id) => {\r\n  if (confirm('Yakin ingin menghapus treatment ini?')) {\r\n    await ApiService.deleteTreatment(id);\r\n    treatments.value = treatments.value.filter((t) => t.id !== id);\r\n  }\r\n};\r\n\r\nconst openPackageModal = async (treatmentId) => {\r\n  selectedTreatmentId.value = treatmentId;\r\n  showModal.value = true;\r\n  const { data } = await ApiService.getAllTreatments();\r\n  packageOptions.value = data.filter(t => t.type === 'package');\r\n};\r\n\r\nconst addToPackage = async () => {\r\n  try {\r\n    await ApiService.addToPackage({\r\n      packageId: selectedPackageId.value,\r\n      treatmentId: selectedTreatmentId.value,\r\n    });\r\n    alert('Berhasil ditambahkan ke dalam paket!');\r\n    showModal.value = false;\r\n  } catch (err) {\r\n    alert('Gagal menambahkan ke paket.');\r\n    console.error(err);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.treatment-admin {\r\n  padding: 1rem;\r\n  max-width: 960px;\r\n  margin: auto;\r\n}\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.add-btn {\r\n  background: #28a745;\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n.tabs {\r\n  margin: 1rem 0;\r\n  display: flex;\r\n  gap: 1rem;\r\n}\r\n.tabs button {\r\n  padding: 0.5rem 1rem;\r\n  border: 1px solid #ccc;\r\n  background: #f8f8f8;\r\n  cursor: pointer;\r\n}\r\n.tabs button.active {\r\n  background: #007bff;\r\n  color: white;\r\n  border-color: #007bff;\r\n}\r\n.treatment-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n.treatment-card {\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  width: 280px;\r\n  background-color: #fafafa;\r\n}\r\n.treatment-card img {\r\n  max-width: 100%;\r\n  border-radius: 6px;\r\n  margin-bottom: 0.5rem;\r\n}\r\n.card-actions {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  margin-top: 1rem;\r\n}\r\n.card-actions button {\r\n  padding: 0.4rem 0.7rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n.card-actions .delete {\r\n  background: #dc3545;\r\n  color: white;\r\n}\r\n.card-actions button:not(.delete) {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n/* Modal */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0,0,0,0.4);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n.modal-content {\r\n  background: white;\r\n  padding: 2rem;\r\n  border-radius: 10px;\r\n  width: 90%;\r\n  max-width: 400px;\r\n}\r\n.modal-actions {\r\n  margin-top: 1rem;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n}\r\n</style>\r\n","import script from \"./ManageTreatments.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ManageTreatments.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ManageTreatments.vue?vue&type=style&index=0&id=7748ad18&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7748ad18\"]])\n\nexport default __exports__"],"names":["router","useRouter","treatments","ref","filterType","selectedTreatmentId","showModal","packageOptions","selectedPackageId","onMounted","async","data","ApiService","getAllTreatments","value","filteredTreatments","computed","filter","t","type","handleDelete","confirm","deleteTreatment","id","openPackageModal","treatmentId","addToPackage","packageId","alert","err","console","error","_createElementVNode","_hoisted_1","_hoisted_2","onClick","_cache","$event","_unref","push","class","_hoisted_3","_normalizeClass","active","length","_createElementBlock","_hoisted_4","_hoisted_5","_Fragment","_renderList","key","src","imageUrl","alt","_toDisplayString","name","duration","category","price","toLocaleString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","disabled","pkg","_hoisted_13","_hoisted_14","__exports__"],"sourceRoot":""}