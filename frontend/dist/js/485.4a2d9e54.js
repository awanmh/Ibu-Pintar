"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[485],{485:(a,e,l)=>{l.r(e),l.d(e,{default:()=>_});var n=l(641),t=l(33),u=l(953),s=l(317),o=l(751);const i={class:"modal-content"},c={class:"modal-actions"},r={key:0,class:"error"},k={__name:"AnswerModal",props:{question:Object},emits:["close","answered"],setup(a,{emit:e}){const l=a,k=e,d=(0,u.KR)(""),v=(0,u.KR)(""),m=async()=>{if(d.value.trim())try{await s.A.createAnswer(l.question.id,{content:d.value}),k("answered"),k("close")}catch(a){v.value="Gagal mengirim jawaban."}else v.value="Jawaban tidak boleh kosong."};return(e,l)=>((0,n.uX)(),(0,n.CE)("div",{class:"modal-overlay",onClick:l[2]||(l[2]=(0,o.D$)((a=>e.$emit("close")),["self"]))},[(0,n.Lk)("div",i,[l[3]||(l[3]=(0,n.Lk)("h3",null,"Jawab Pertanyaan",-1)),(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,(0,t.v_)(a.question.title),1)]),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":l[0]||(l[0]=a=>d.value=a),rows:"5",placeholder:"Tulis jawaban Anda di sini..."},null,512),[[o.Jo,d.value]]),(0,n.Lk)("div",c,[(0,n.Lk)("button",{onClick:m},"Kirim"),(0,n.Lk)("button",{class:"cancel",onClick:l[1]||(l[1]=a=>e.$emit("close"))},"Batal")]),v.value?((0,n.uX)(),(0,n.CE)("p",r,(0,t.v_)(v.value),1)):(0,n.Q3)("",!0)])]))}};var d=l(262);const v=(0,d.A)(k,[["__scopeId","data-v-24f37b64"]]),m=v,y={class:"admin-section"},L={key:0},p={key:1,class:"error"},C={key:2},b=["onClick"],h=["onClick"],w={__name:"ManageForum",setup(a){const e=(0,u.KR)([]),l=(0,u.KR)(!1),o=(0,u.KR)(null),i=(0,u.KR)(null),c=async()=>{l.value=!0;try{const a=await s.A.getAllQuestions();e.value=a.data}catch(a){o.value="Gagal memuat forum"}finally{l.value=!1}},r=async a=>{if(confirm("Yakin ingin menghapus pertanyaan ini?"))try{await s.A.deleteQuestion(a),e.value=e.value.filter((e=>e.id!==a))}catch(l){alert("Gagal menghapus pertanyaan")}},k=a=>{i.value=a};return(0,n.sV)(c),(a,u)=>((0,n.uX)(),(0,n.CE)("div",y,[u[2]||(u[2]=(0,n.Lk)("h2",null,"Manajemen Forum (Tanya Bidan)",-1)),l.value?((0,n.uX)(),(0,n.CE)("div",L,"Memuat data...")):(0,n.Q3)("",!0),o.value?((0,n.uX)(),(0,n.CE)("div",p,(0,t.v_)(o.value),1)):(0,n.Q3)("",!0),e.value.length?((0,n.uX)(),(0,n.CE)("table",C,[u[1]||(u[1]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Pertanyaan"),(0,n.Lk)("th",null,"Penanya"),(0,n.Lk)("th",null,"Aksi")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.value,(a=>((0,n.uX)(),(0,n.CE)("tr",{key:a.id},[(0,n.Lk)("td",null,(0,t.v_)(a.title),1),(0,n.Lk)("td",null,(0,t.v_)(a.asker?.name||"Anonim"),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:e=>k(a)},"Jawab",8,b),(0,n.Lk)("button",{onClick:e=>r(a.id)},"Hapus",8,h)])])))),128))])])):(0,n.Q3)("",!0),i.value?((0,n.uX)(),(0,n.Wv)(m,{key:3,question:i.value,onClose:u[0]||(u[0]=a=>i.value=null),onAnswered:c},null,8,["question"])):(0,n.Q3)("",!0)]))}},f=(0,d.A)(w,[["__scopeId","data-v-f91f13a6"]]),_=f}}]);
//# sourceMappingURL=485.4a2d9e54.js.map