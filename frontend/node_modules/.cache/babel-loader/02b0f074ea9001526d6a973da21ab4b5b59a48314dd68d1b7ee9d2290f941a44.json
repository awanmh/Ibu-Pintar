{"ast":null,"code":"// src/services/ApiService.js\nimport axios from 'axios';\nimport store from '@/store'; // Impor store Vuex\n\nconst apiClient = axios.create({\n  baseURL: 'http://localhost:5000/api'\n});\n\n// ### INTERCEPTOR - INI SANGAT PENTING ###\n// Fungsi ini akan berjalan sebelum setiap request dikirim\napiClient.interceptors.request.use(config => {\n  const token = store.state.auth.token; // Ambil token dari Vuex\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\nexport default {\n  // === Auth Service ===\n  register(userData) {\n    return apiClient.post('/auth/register', userData);\n  },\n  login(userData) {\n    return apiClient.post('/auth/login', userData);\n  },\n  getMe() {\n    return apiClient.get('/auth/me');\n  },\n  // === Articles Service ===\n  getArticles() {\n    return apiClient.get('/articles');\n  },\n  getArticle(id) {\n    return apiClient.get(`/articles/${id}`);\n  },\n  // === Articles Service (Admin) ===\n  createArticle(articleData) {\n    // Token admin akan otomatis ditambahkan oleh interceptor\n    return apiClient.post('/articles', articleData);\n  },\n  updateArticle(id, articleData) {\n    return apiClient.put(`/articles/${id}`, articleData);\n  },\n  deleteArticle(id) {\n    return apiClient.delete(`/articles/${id}`);\n  },\n  // === Categories Service ===\n  getCategories() {\n    return apiClient.get('/categories');\n  },\n  // === Forum (Tanya Bidan) Service ===\n  getAllQuestions() {\n    return apiClient.get('/tanya-bidan');\n  },\n  getQuestionById(id) {\n    return apiClient.get(`/tanya-bidan/${id}`);\n  },\n  createQuestion(questionData) {\n    return apiClient.post('/tanya-bidan', questionData);\n  },\n  createAnswer(questionId, answerData) {\n    return apiClient.post(`/tanya-bidan/${questionId}/answers`, answerData);\n  },\n  // === Reservations Service ===\n  submitReservation(reservationData) {\n    return apiClient.post('/reservations', reservationData);\n  }\n};","map":{"version":3,"names":["axios","store","apiClient","create","baseURL","interceptors","request","use","config","token","state","auth","headers","Authorization","error","Promise","reject","register","userData","post","login","getMe","get","getArticles","getArticle","id","createArticle","articleData","updateArticle","put","deleteArticle","delete","getCategories","getAllQuestions","getQuestionById","createQuestion","questionData","createAnswer","questionId","answerData","submitReservation","reservationData"],"sources":["E:/ibuPintar/frontend/src/services/ApiService.js"],"sourcesContent":["// src/services/ApiService.js\r\nimport axios from 'axios';\r\nimport store from '@/store'; // Impor store Vuex\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n});\r\n\r\n// ### INTERCEPTOR - INI SANGAT PENTING ###\r\n// Fungsi ini akan berjalan sebelum setiap request dikirim\r\napiClient.interceptors.request.use(config => {\r\n  const token = store.state.auth.token; // Ambil token dari Vuex\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n}, error => {\r\n  return Promise.reject(error);\r\n});\r\n\r\n\r\nexport default {\r\n  // === Auth Service ===\r\n  register(userData) {\r\n    return apiClient.post('/auth/register', userData);\r\n  },\r\n  login(userData) {\r\n    return apiClient.post('/auth/login', userData);\r\n  },\r\n  getMe() {\r\n    return apiClient.get('/auth/me');\r\n  },\r\n\r\n  // === Articles Service ===\r\n  getArticles() {\r\n    return apiClient.get('/articles');\r\n  },\r\n  getArticle(id) {\r\n    return apiClient.get(`/articles/${id}`);\r\n  },\r\n\r\n  // === Articles Service (Admin) ===\r\n  createArticle(articleData) {\r\n    // Token admin akan otomatis ditambahkan oleh interceptor\r\n    return apiClient.post('/articles', articleData);\r\n  },\r\n  updateArticle(id, articleData) {\r\n    return apiClient.put(`/articles/${id}`, articleData);\r\n  },\r\n  deleteArticle(id) {\r\n    return apiClient.delete(`/articles/${id}`);\r\n  },\r\n\r\n  // === Categories Service ===\r\n  getCategories() {\r\n      return apiClient.get('/categories');\r\n  },\r\n\r\n  // === Forum (Tanya Bidan) Service ===\r\n  getAllQuestions() {\r\n    return apiClient.get('/tanya-bidan');\r\n  },\r\n  getQuestionById(id) {\r\n    return apiClient.get(`/tanya-bidan/${id}`);\r\n  },\r\n  createQuestion(questionData) {\r\n    return apiClient.post('/tanya-bidan', questionData);\r\n  },\r\n  createAnswer(questionId, answerData) {\r\n    return apiClient.post(`/tanya-bidan/${questionId}/answers`, answerData);\r\n  },\r\n\r\n  // === Reservations Service ===\r\n  submitReservation(reservationData) {\r\n    return apiClient.post('/reservations', reservationData);\r\n  },\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,SAAS,CAAC,CAAC;;AAE7B,MAAMC,SAAS,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC7BC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACA;AACAF,SAAS,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EAC3C,MAAMC,KAAK,GAAGR,KAAK,CAACS,KAAK,CAACC,IAAI,CAACF,KAAK,CAAC,CAAC;EACtC,IAAIA,KAAK,EAAE;IACTD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,EAAEM,KAAK,IAAI;EACV,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;AAGF,eAAe;EACb;EACAG,QAAQA,CAACC,QAAQ,EAAE;IACjB,OAAOhB,SAAS,CAACiB,IAAI,CAAC,gBAAgB,EAAED,QAAQ,CAAC;EACnD,CAAC;EACDE,KAAKA,CAACF,QAAQ,EAAE;IACd,OAAOhB,SAAS,CAACiB,IAAI,CAAC,aAAa,EAAED,QAAQ,CAAC;EAChD,CAAC;EACDG,KAAKA,CAAA,EAAG;IACN,OAAOnB,SAAS,CAACoB,GAAG,CAAC,UAAU,CAAC;EAClC,CAAC;EAED;EACAC,WAAWA,CAAA,EAAG;IACZ,OAAOrB,SAAS,CAACoB,GAAG,CAAC,WAAW,CAAC;EACnC,CAAC;EACDE,UAAUA,CAACC,EAAE,EAAE;IACb,OAAOvB,SAAS,CAACoB,GAAG,CAAC,aAAaG,EAAE,EAAE,CAAC;EACzC,CAAC;EAED;EACAC,aAAaA,CAACC,WAAW,EAAE;IACzB;IACA,OAAOzB,SAAS,CAACiB,IAAI,CAAC,WAAW,EAAEQ,WAAW,CAAC;EACjD,CAAC;EACDC,aAAaA,CAACH,EAAE,EAAEE,WAAW,EAAE;IAC7B,OAAOzB,SAAS,CAAC2B,GAAG,CAAC,aAAaJ,EAAE,EAAE,EAAEE,WAAW,CAAC;EACtD,CAAC;EACDG,aAAaA,CAACL,EAAE,EAAE;IAChB,OAAOvB,SAAS,CAAC6B,MAAM,CAAC,aAAaN,EAAE,EAAE,CAAC;EAC5C,CAAC;EAED;EACAO,aAAaA,CAAA,EAAG;IACZ,OAAO9B,SAAS,CAACoB,GAAG,CAAC,aAAa,CAAC;EACvC,CAAC;EAED;EACAW,eAAeA,CAAA,EAAG;IAChB,OAAO/B,SAAS,CAACoB,GAAG,CAAC,cAAc,CAAC;EACtC,CAAC;EACDY,eAAeA,CAACT,EAAE,EAAE;IAClB,OAAOvB,SAAS,CAACoB,GAAG,CAAC,gBAAgBG,EAAE,EAAE,CAAC;EAC5C,CAAC;EACDU,cAAcA,CAACC,YAAY,EAAE;IAC3B,OAAOlC,SAAS,CAACiB,IAAI,CAAC,cAAc,EAAEiB,YAAY,CAAC;EACrD,CAAC;EACDC,YAAYA,CAACC,UAAU,EAAEC,UAAU,EAAE;IACnC,OAAOrC,SAAS,CAACiB,IAAI,CAAC,gBAAgBmB,UAAU,UAAU,EAAEC,UAAU,CAAC;EACzE,CAAC;EAED;EACAC,iBAAiBA,CAACC,eAAe,EAAE;IACjC,OAAOvC,SAAS,CAACiB,IAAI,CAAC,eAAe,EAAEsB,eAAe,CAAC;EACzD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}