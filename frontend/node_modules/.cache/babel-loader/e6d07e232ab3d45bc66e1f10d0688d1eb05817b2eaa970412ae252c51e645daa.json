{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"state-message\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"state-message error\"\n};\nconst _hoisted_4 = {\n  key: 2\n};\nconst _hoisted_5 = {\n  class: \"main-layout\"\n};\nconst _hoisted_6 = {\n  class: \"main-content\"\n};\nconst _hoisted_7 = {\n  class: \"article-image-header\"\n};\nconst _hoisted_8 = [\"src\", \"alt\"];\nconst _hoisted_9 = {\n  class: \"article-title\"\n};\nconst _hoisted_10 = {\n  class: \"article-meta\"\n};\nconst _hoisted_11 = [\"innerHTML\"];\nconst _hoisted_12 = {\n  class: \"sidebar-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"Memuat artikel...\")) : _createCommentVNode(\"v-if\", true), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $setup.article ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" Kolom Konten Utama \"), _createElementVNode(\"main\", _hoisted_6, [_createElementVNode(\"article\", null, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"img\", {\n    src: $setup.article.image,\n    alt: $setup.article.title\n  }, null, 8 /* PROPS */, _hoisted_8)]), _createElementVNode(\"h1\", _hoisted_9, _toDisplayString($setup.article.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_10, [_cache[0] || (_cache[0] = _createTextVNode(\" Oleh \")), _createElementVNode(\"strong\", null, _toDisplayString($setup.article.author.name), 1 /* TEXT */), _cache[1] || (_cache[1] = _createTextVNode(\" dalam kategori \")), _createElementVNode(\"strong\", null, _toDisplayString($setup.article.category.name), 1 /* TEXT */), _cache[2] || (_cache[2] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createTextVNode(\" Dipublikasikan pada \" + _toDisplayString($setup.formatDate($setup.article.date_posted)), 1 /* TEXT */)]), _createElementVNode(\"div\", {\n    class: \"article-content\",\n    innerHTML: $setup.formattedContent\n  }, null, 8 /* PROPS */, _hoisted_11)]), _createCommentVNode(\" Komponen Komentar diletakkan di sini \"), _createVNode($setup[\"CommentSection\"])]), _createCommentVNode(\" Kolom Sidebar \"), _createElementVNode(\"aside\", _hoisted_12, [_createVNode($setup[\"LatestArticlesSidebar\"], {\n    articles: $setup.latestArticles\n  }, null, 8 /* PROPS */, [\"articles\"])])]), _createCommentVNode(\" Bagian Rekomendasi diletakkan di sini \"), _createVNode($setup[\"RecommendedArticles\"], {\n    articles: $setup.recommendedArticles\n  }, null, 8 /* PROPS */, [\"articles\"])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","$setup","loading","_hoisted_2","error","_hoisted_3","_toDisplayString","article","_hoisted_4","_createElementVNode","_hoisted_5","_createCommentVNode","_hoisted_6","_hoisted_7","src","image","alt","title","_hoisted_9","_hoisted_10","author","name","category","formatDate","date_posted","innerHTML","formattedContent","_createVNode","_hoisted_12","articles","latestArticles","recommendedArticles"],"sources":["E:\\ibuPintar\\frontend\\src\\views\\article\\ArticleDetailView.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-container\">\r\n    <div v-if=\"loading\" class=\"state-message\">Memuat artikel...</div>\r\n    <div v-if=\"error\" class=\"state-message error\">{{ error }}</div>\r\n    \r\n    <div v-if=\"article\">\r\n      <div class=\"main-layout\">\r\n        <!-- Kolom Konten Utama -->\r\n        <main class=\"main-content\">\r\n          <article>\r\n            <div class=\"article-image-header\">\r\n              <img :src=\"article.image\" :alt=\"article.title\">\r\n            </div>\r\n\r\n            <h1 class=\"article-title\">{{ article.title }}</h1>\r\n            <p class=\"article-meta\">\r\n              Oleh <strong>{{ article.author.name }}</strong> dalam kategori <strong>{{ article.category.name }}</strong>\r\n              <br>\r\n              Dipublikasikan pada {{ formatDate(article.date_posted) }}\r\n            </p>\r\n            \r\n            <div class=\"article-content\" v-html=\"formattedContent\"></div>\r\n          </article>\r\n\r\n          <!-- Komponen Komentar diletakkan di sini -->\r\n          <CommentSection />\r\n        </main>\r\n\r\n        <!-- Kolom Sidebar -->\r\n        <aside class=\"sidebar-content\">\r\n          <LatestArticlesSidebar :articles=\"latestArticles\" />\r\n        </aside>\r\n      </div>\r\n\r\n      <!-- Bagian Rekomendasi diletakkan di sini -->\r\n      <RecommendedArticles :articles=\"recommendedArticles\" />\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed, watch } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { dummyArticles } from '@/data/articles.js'; \r\nimport { formatDate } from '@/utils/formatDate.js';\r\n\r\n// Impor semua komponen yang dibutuhkan\r\nimport LatestArticlesSidebar from '@/components/articles/LatestArticlesSidebar.vue';\r\nimport CommentSection from '@/components/articles/CommentSection.vue';\r\nimport RecommendedArticles from '@/components/articles/RecommendedArticles.vue';\r\n\r\nconst route = useRoute();\r\nconst article = ref(null);\r\nconst loading = ref(true);\r\nconst error = ref(null);\r\n\r\n// Fungsi terpusat untuk mengambil data artikel\r\nconst fetchArticleData = (id) => {\r\n  loading.value = true;\r\n  article.value = null;\r\n  error.value = null;\r\n\r\n  if (!dummyArticles || !Array.isArray(dummyArticles)) {\r\n    error.value = \"Gagal memuat data dummy. Periksa nama atau lokasi file 'src/data/articles.js'.\";\r\n    loading.value = false;\r\n    return;\r\n  }\r\n\r\n  const foundArticle = dummyArticles.find(a => a.id === parseInt(id));\r\n\r\n  if (foundArticle) {\r\n    article.value = foundArticle;\r\n  } else {\r\n    error.value = `Artikel dengan ID \"${id}\" tidak ditemukan.`;\r\n  }\r\n  \r\n  loading.value = false;\r\n};\r\n\r\n// Computed property untuk memformat konten menjadi paragraf HTML\r\nconst formattedContent = computed(() => {\r\n  if (!article.value) return '';\r\n  return article.value.content\r\n    .split(/\\n\\s*\\n/)\r\n    .map(paragraph => `<p>${paragraph.trim()}</p>`)\r\n    .join('');\r\n});\r\n\r\n// ### LOGIKA DIPERBARUI DI SINI ###\r\n\r\n// Computed property untuk daftar artikel terbaru di sidebar\r\nconst latestArticles = computed(() => {\r\n  if (!article.value) return [];\r\n  // Ambil 2 artikel lain yang bukan artikel yang sedang dibaca untuk sidebar\r\n  return dummyArticles\r\n    .filter(a => a.id !== article.value.id)\r\n    .slice(0, 2);\r\n});\r\n\r\n// Computed property untuk daftar artikel rekomendasi\r\nconst recommendedArticles = computed(() => {\r\n    if (!article.value) return [];\r\n    // Buat daftar ID artikel yang sudah ditampilkan (di konten utama dan sidebar)\r\n    const excludedIds = [article.value.id, ...latestArticles.value.map(a => a.id)];\r\n    // Ambil sisa artikel (maksimal 4) yang belum ditampilkan\r\n    return dummyArticles\r\n        .filter(a => !excludedIds.includes(a.id))\r\n        .slice(0, 4);\r\n});\r\n\r\n\r\n// Panggil data saat komponen pertama kali dimuat\r\nonMounted(() => {\r\n  fetchArticleData(route.params.id);\r\n});\r\n\r\n// Panggil ulang data jika ID di URL berubah (misal: saat klik link di sidebar)\r\nwatch(() => route.params.id, (newId) => {\r\n  if (newId) {\r\n    fetchArticleData(newId);\r\n    window.scrollTo(0, 0);\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.page-container {\r\n  max-width: 1200px;\r\n  margin: 40px auto;\r\n  padding: 0 20px;\r\n}\r\n.state-message { text-align: center; padding: 60px; font-size: 1.2em; color: #888; }\r\n.error { color: #c53030; background-color: #fff5f5; border-radius: 8px; }\r\n\r\n.main-layout {\r\n  display: grid;\r\n  grid-template-columns: 2.5fr 1fr;\r\n  gap: 50px;\r\n}\r\n\r\n.main-content {\r\n  max-width: 100%;\r\n}\r\n.sidebar-content {\r\n  position: sticky;\r\n  top: 100px;\r\n  align-self: flex-start;\r\n}\r\n\r\n.article-image-header img { \r\n  width: 100%; \r\n  aspect-ratio: 16 / 9; \r\n  object-fit: cover; \r\n  border-radius: 12px; \r\n  margin-bottom: 30px;\r\n}\r\n.article-title { \r\n  font-size: 2.8em; \r\n  margin-bottom: 15px; \r\n  line-height: 1.2; \r\n}\r\n.article-meta { \r\n  color: #666; \r\n  font-style: italic; \r\n  margin-bottom: 30px; \r\n  border-bottom: 1px solid #eee; \r\n  padding-bottom: 20px; \r\n}\r\n.article-content { \r\n  line-height: 1.8; \r\n  font-size: 1.1em; \r\n}\r\n.article-content :deep(p) { \r\n  margin-bottom: 1.5em; \r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;;EACLA,KAAK,EAAC;;;;EACRA,KAAK,EAAC;;;;;;EAGjBA,KAAK,EAAC;AAAa;;EAEhBA,KAAK,EAAC;AAAc;;EAEjBA,KAAK,EAAC;AAAsB;;;EAI7BA,KAAK,EAAC;AAAe;;EACtBA,KAAK,EAAC;AAAc;;;EAcpBA,KAAK,EAAC;AAAiB;;uBA5BpCC,mBAAA,CAqCM,OArCNC,UAqCM,GApCOC,MAAA,CAAAC,OAAO,I,cAAlBH,mBAAA,CAAiE,OAAjEI,UAAiE,EAAvB,mBAAiB,K,mCAChDF,MAAA,CAAAG,KAAK,I,cAAhBL,mBAAA,CAA+D,OAA/DM,UAA+D,EAAAC,gBAAA,CAAdL,MAAA,CAAAG,KAAK,oB,mCAE3CH,MAAA,CAAAM,OAAO,I,cAAlBR,mBAAA,CA+BM,OAAAS,UAAA,GA9BJC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJC,mBAAA,wBAA2B,EAC3BF,mBAAA,CAkBO,QAlBPG,UAkBO,GAjBLH,mBAAA,CAaU,kBAZRA,mBAAA,CAEM,OAFNI,UAEM,GADJJ,mBAAA,CAA+C;IAAzCK,GAAG,EAAEb,MAAA,CAAAM,OAAO,CAACQ,KAAK;IAAGC,GAAG,EAAEf,MAAA,CAAAM,OAAO,CAACU;yCAG1CR,mBAAA,CAAkD,MAAlDS,UAAkD,EAAAZ,gBAAA,CAArBL,MAAA,CAAAM,OAAO,CAACU,KAAK,kBAC1CR,mBAAA,CAII,KAJJU,WAII,G,2CAJoB,QACjB,IAAAV,mBAAA,CAA0C,gBAAAH,gBAAA,CAA/BL,MAAA,CAAAM,OAAO,CAACa,MAAM,CAACC,IAAI,kB,2CAAY,kBAAgB,IAAAZ,mBAAA,CAA4C,gBAAAH,gBAAA,CAAjCL,MAAA,CAAAM,OAAO,CAACe,QAAQ,CAACD,IAAI,kB,0BAC/FZ,mBAAA,CAAI,sC,iBAAA,uBACgB,GAAAH,gBAAA,CAAGL,MAAA,CAAAsB,UAAU,CAACtB,MAAA,CAAAM,OAAO,CAACiB,WAAW,kB,GAGvDf,mBAAA,CAA6D;IAAxDX,KAAK,EAAC,iBAAiB;IAAC2B,SAAyB,EAAjBxB,MAAA,CAAAyB;0CAGvCf,mBAAA,0CAA6C,EAC7CgB,YAAA,CAAkB1B,MAAA,oB,GAGpBU,mBAAA,mBAAsB,EACtBF,mBAAA,CAEQ,SAFRmB,WAEQ,GADND,YAAA,CAAoD1B,MAAA;IAA5B4B,QAAQ,EAAE5B,MAAA,CAAA6B;EAAc,sC,KAIpDnB,mBAAA,2CAA8C,EAC9CgB,YAAA,CAAuD1B,MAAA;IAAjC4B,QAAQ,EAAE5B,MAAA,CAAA8B;EAAmB,sC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}