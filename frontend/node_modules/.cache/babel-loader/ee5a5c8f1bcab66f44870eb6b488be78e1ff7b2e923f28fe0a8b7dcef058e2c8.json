{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"page-container\"\n};\nconst _hoisted_2 = {\n  class: \"question-main\"\n};\nconst _hoisted_3 = {\n  class: \"meta\"\n};\nconst _hoisted_4 = {\n  class: \"content\"\n};\nconst _hoisted_5 = {\n  class: \"answers-section\"\n};\nconst _hoisted_6 = {\n  class: \"answer-content\"\n};\nconst _hoisted_7 = {\n  class: \"meta\"\n};\nconst _hoisted_8 = {\n  class: \"reply-form\"\n};\nconst _hoisted_9 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $setup.question ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h1\", null, _toDisplayString($setup.question.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_3, [_cache[1] || (_cache[1] = _createTextVNode(\"Ditanyakan oleh \")), _createElementVNode(\"strong\", null, _toDisplayString($setup.question.asker.name), 1 /* TEXT */), _createTextVNode(\" pada \" + _toDisplayString($setup.formatDate($setup.question.createdAt)), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_4, _toDisplayString($setup.question.content), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h2\", null, \"Jawaban (\" + _toDisplayString($setup.question.Answers.length) + \")\", 1 /* TEXT */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.question.Answers, answer => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: answer.id,\n      class: \"answer-item\"\n    }, [_createElementVNode(\"p\", _hoisted_6, _toDisplayString(answer.content), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, [_cache[2] || (_cache[2] = _createTextVNode(\"Dijawab oleh \")), _createElementVNode(\"strong\", null, _toDisplayString(answer.author.name), 1 /* TEXT */), _createTextVNode(\" (\" + _toDisplayString(answer.author.role) + \") pada \" + _toDisplayString($setup.formatDate(answer.createdAt)), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_8, [_cache[4] || (_cache[4] = _createElementVNode(\"h3\", null, \"Beri Jawaban\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.submitAnswer, [\"prevent\"])\n  }, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.newAnswer = $event),\n    rows: \"5\",\n    placeholder: \"Tulis jawaban Anda di sini...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newAnswer]]), _createVNode($setup[\"AppButton\"], {\n    type: \"submit\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Kirim Jawaban\")])),\n    _: 1 /* STABLE */,\n    __: [3]\n  })], 32 /* NEED_HYDRATION */)])])) : $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \"Memuat...\")) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["class","$setup","question","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","title","_hoisted_3","asker","name","formatDate","createdAt","_hoisted_4","content","_hoisted_5","Answers","length","_Fragment","_renderList","answer","key","id","_hoisted_6","_hoisted_7","author","role","_hoisted_8","onSubmit","_withModifiers","submitAnswer","newAnswer","$event","rows","placeholder","_createVNode","type","_cache","loading","_hoisted_9"],"sources":["E:\\ibuhamil\\frontend\\src\\views\\QnA\\QuestionDetailView.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-container\" v-if=\"question\">\r\n    <div class=\"question-main\">\r\n      <h1>{{ question.title }}</h1>\r\n      <p class=\"meta\">Ditanyakan oleh <strong>{{ question.asker.name }}</strong> pada {{ formatDate(question.createdAt) }}</p>\r\n      <p class=\"content\">{{ question.content }}</p>\r\n    </div>\r\n\r\n    <div class=\"answers-section\">\r\n      <h2>Jawaban ({{ question.Answers.length }})</h2>\r\n      <div v-for=\"answer in question.Answers\" :key=\"answer.id\" class=\"answer-item\">\r\n        <p class=\"answer-content\">{{ answer.content }}</p>\r\n        <p class=\"meta\">Dijawab oleh <strong>{{ answer.author.name }}</strong> ({{ answer.author.role }}) pada {{ formatDate(answer.createdAt) }}</p>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"reply-form\">\r\n        <h3>Beri Jawaban</h3>\r\n        <form @submit.prevent=\"submitAnswer\">\r\n            <textarea v-model=\"newAnswer\" rows=\"5\" placeholder=\"Tulis jawaban Anda di sini...\"></textarea>\r\n            <AppButton type=\"submit\">Kirim Jawaban</AppButton>\r\n        </form>\r\n    </div>\r\n  </div>\r\n  <div v-else-if=\"loading\">Memuat...</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport ApiService from '@/services/ApiService';\r\nimport AppButton from '@/components/common/AppButton.vue';\r\nimport { formatDate } from '@/utils/formatDate';\r\n\r\nconst route = useRoute();\r\nconst question = ref(null);\r\nconst newAnswer = ref('');\r\nconst loading = ref(true);\r\n\r\nconst fetchQuestion = async () => {\r\n  try {\r\n    const response = await ApiService.getQuestionById(route.params.id);\r\n    question.value = response.data;\r\n  } catch (error) {\r\n    console.error(\"Gagal mengambil detail pertanyaan:\", error);\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nconst submitAnswer = async () => {\r\n    try {\r\n        const answerData = {\r\n            content: newAnswer.value,\r\n            user_id: 1 // Ganti dengan ID user yang login\r\n        };\r\n        await ApiService.createAnswer(route.params.id, answerData);\r\n        newAnswer.value = ''; // Kosongkan form\r\n        fetchQuestion(); // Muat ulang data untuk menampilkan jawaban baru\r\n    } catch (error) {\r\n        console.error(\"Gagal mengirim jawaban:\", error);\r\n    }\r\n};\r\n\r\nonMounted(fetchQuestion);\r\n</script>\r\n\r\n<style scoped>\r\n.page-container { max-width: 800px; margin: 40px auto; padding: 0 20px; }\r\n.question-main { background: white; padding: 25px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 30px; }\r\n.meta { font-size: 0.9em; color: #666; margin-top: 8px; }\r\n.content { line-height: 1.7; margin-top: 20px; }\r\n.answers-section h2 { margin-bottom: 20px; }\r\n.answer-item { border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }\r\n.reply-form { margin-top: 40px; }\r\ntextarea { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 10px; }\r\n</style>"],"mappings":";;;EACOA,KAAK,EAAC;;;EACJA,KAAK,EAAC;AAAe;;EAErBA,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAS;;EAGfA,KAAK,EAAC;AAAiB;;EAGrBA,KAAK,EAAC;AAAgB;;EACtBA,KAAK,EAAC;AAAM;;EAIdA,KAAK,EAAC;AAAY;;;;;SAfSC,MAAA,CAAAC,QAAQ,I,cAA1CC,mBAAA,CAsBM,OAtBNC,UAsBM,GArBJC,mBAAA,CAIM,OAJNC,UAIM,GAHJD,mBAAA,CAA6B,YAAAE,gBAAA,CAAtBN,MAAA,CAAAC,QAAQ,CAACM,KAAK,kBACrBH,mBAAA,CAAwH,KAAxHI,UAAwH,G,2CAAxG,kBAAgB,IAAAJ,mBAAA,CAA0C,gBAAAE,gBAAA,CAA/BN,MAAA,CAAAC,QAAQ,CAACQ,KAAK,CAACC,IAAI,kB,iBAAY,QAAM,GAAAJ,gBAAA,CAAGN,MAAA,CAAAW,UAAU,CAACX,MAAA,CAAAC,QAAQ,CAACW,SAAS,kB,GAChHR,mBAAA,CAA6C,KAA7CS,UAA6C,EAAAP,gBAAA,CAAvBN,MAAA,CAAAC,QAAQ,CAACa,OAAO,iB,GAGxCV,mBAAA,CAMM,OANNW,UAMM,GALJX,mBAAA,CAAgD,YAA5C,WAAS,GAAAE,gBAAA,CAAGN,MAAA,CAAAC,QAAQ,CAACe,OAAO,CAACC,MAAM,IAAG,GAAC,kB,kBAC3Cf,mBAAA,CAGMgB,SAAA,QAAAC,WAAA,CAHgBnB,MAAA,CAAAC,QAAQ,CAACe,OAAO,EAA1BI,MAAM;yBAAlBlB,mBAAA,CAGM;MAHmCmB,GAAG,EAAED,MAAM,CAACE,EAAE;MAAEvB,KAAK,EAAC;QAC7DK,mBAAA,CAAkD,KAAlDmB,UAAkD,EAAAjB,gBAAA,CAArBc,MAAM,CAACN,OAAO,kBAC3CV,mBAAA,CAA6I,KAA7IoB,UAA6I,G,2CAA7H,eAAa,IAAApB,mBAAA,CAAyC,gBAAAE,gBAAA,CAA9Bc,MAAM,CAACK,MAAM,CAACf,IAAI,kB,iBAAY,IAAE,GAAAJ,gBAAA,CAAGc,MAAM,CAACK,MAAM,CAACC,IAAI,IAAG,SAAO,GAAApB,gBAAA,CAAGN,MAAA,CAAAW,UAAU,CAACS,MAAM,CAACR,SAAS,kB;oCAIzIR,mBAAA,CAMM,OANNuB,UAMM,G,0BALFvB,mBAAA,CAAqB,YAAjB,cAAY,sBAChBA,mBAAA,CAGO;IAHAwB,QAAM,EAAAC,cAAA,CAAU7B,MAAA,CAAA8B,YAAY;sBAC/B1B,mBAAA,CAA8F;+DAA3EJ,MAAA,CAAA+B,SAAS,GAAAC,MAAA;IAAEC,IAAI,EAAC,GAAG;IAACC,WAAW,EAAC;iDAAhClC,MAAA,CAAA+B,SAAS,E,GAC5BI,YAAA,CAAkDnC,MAAA;IAAvCoC,IAAI,EAAC;EAAQ;sBAAC,MAAaC,MAAA,QAAAA,MAAA,O,iBAAb,eAAa,E;;;uCAIhCrC,MAAA,CAAAsC,OAAO,I,cAAvBpC,mBAAA,CAAwC,OAAAqC,UAAA,EAAf,WAAS,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}