{"ast":null,"code":"// frontend/src/services/StorageService.js\n\nconst StorageService = {\n  set(key, value) {\n    if (value === undefined || value === null) {\n      localStorage.removeItem(key);\n    } else {\n      try {\n        // PERBAIKAN: Jika key adalah 'token', simpan sebagai string biasa.\n        // Jika tidak, simpan sebagai JSON.\n        if (key === 'token') {\n          localStorage.setItem(key, value);\n        } else {\n          localStorage.setItem(key, JSON.stringify(value));\n        }\n      } catch (e) {\n        console.warn(`Failed to save ${key} to localStorage`, e);\n      }\n    }\n  },\n  get(key) {\n    try {\n      const item = localStorage.getItem(key);\n      if (!item) return null;\n\n      // PERBAIKAN: Jika key adalah 'token', kembalikan sebagai string biasa.\n      // Jika tidak, parse sebagai JSON.\n      if (key === 'token') {\n        return item;\n      }\n\n      // Pengecekan 'undefined' string untuk data lama yang mungkin masih ada\n      if (item === 'undefined') return null;\n      return JSON.parse(item);\n    } catch (e) {\n      console.warn(`Failed to parse ${key} from localStorage`, e);\n      // Jika gagal parse, coba kembalikan sebagai string biasa (untuk token lama yang mungkin tersimpan salah)\n      if (key === 'token') {\n        return localStorage.getItem(key);\n      }\n      return null;\n    }\n  },\n  remove(key) {\n    localStorage.removeItem(key);\n  }\n};\nexport default StorageService;","map":{"version":3,"names":["StorageService","set","key","value","undefined","localStorage","removeItem","setItem","JSON","stringify","e","console","warn","get","item","getItem","parse","remove"],"sources":["E:/ibuPintar/frontend/src/services/StorageService.js"],"sourcesContent":["// frontend/src/services/StorageService.js\r\n\r\nconst StorageService = {\r\n  set(key, value) {\r\n    if (value === undefined || value === null) {\r\n      localStorage.removeItem(key);\r\n    } else {\r\n      try {\r\n        // PERBAIKAN: Jika key adalah 'token', simpan sebagai string biasa.\r\n        // Jika tidak, simpan sebagai JSON.\r\n        if (key === 'token') {\r\n          localStorage.setItem(key, value);\r\n        } else {\r\n          localStorage.setItem(key, JSON.stringify(value));\r\n        }\r\n      } catch (e) {\r\n        console.warn(`Failed to save ${key} to localStorage`, e);\r\n      }\r\n    }\r\n  },\r\n\r\n  get(key) {\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      if (!item) return null;\r\n\r\n      // PERBAIKAN: Jika key adalah 'token', kembalikan sebagai string biasa.\r\n      // Jika tidak, parse sebagai JSON.\r\n      if (key === 'token') {\r\n        return item;\r\n      }\r\n      \r\n      // Pengecekan 'undefined' string untuk data lama yang mungkin masih ada\r\n      if (item === 'undefined') return null;\r\n\r\n      return JSON.parse(item);\r\n    } catch (e) {\r\n      console.warn(`Failed to parse ${key} from localStorage`, e);\r\n      // Jika gagal parse, coba kembalikan sebagai string biasa (untuk token lama yang mungkin tersimpan salah)\r\n      if (key === 'token') {\r\n        return localStorage.getItem(key);\r\n      }\r\n      return null;\r\n    }\r\n  },\r\n\r\n  remove(key) {\r\n    localStorage.removeItem(key);\r\n  },\r\n};\r\n\r\nexport default StorageService;\r\n"],"mappings":"AAAA;;AAEA,MAAMA,cAAc,GAAG;EACrBC,GAAGA,CAACC,GAAG,EAAEC,KAAK,EAAE;IACd,IAAIA,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,IAAI,EAAE;MACzCE,YAAY,CAACC,UAAU,CAACJ,GAAG,CAAC;IAC9B,CAAC,MAAM;MACL,IAAI;QACF;QACA;QACA,IAAIA,GAAG,KAAK,OAAO,EAAE;UACnBG,YAAY,CAACE,OAAO,CAACL,GAAG,EAAEC,KAAK,CAAC;QAClC,CAAC,MAAM;UACLE,YAAY,CAACE,OAAO,CAACL,GAAG,EAAEM,IAAI,CAACC,SAAS,CAACN,KAAK,CAAC,CAAC;QAClD;MACF,CAAC,CAAC,OAAOO,CAAC,EAAE;QACVC,OAAO,CAACC,IAAI,CAAC,kBAAkBV,GAAG,kBAAkB,EAAEQ,CAAC,CAAC;MAC1D;IACF;EACF,CAAC;EAEDG,GAAGA,CAACX,GAAG,EAAE;IACP,IAAI;MACF,MAAMY,IAAI,GAAGT,YAAY,CAACU,OAAO,CAACb,GAAG,CAAC;MACtC,IAAI,CAACY,IAAI,EAAE,OAAO,IAAI;;MAEtB;MACA;MACA,IAAIZ,GAAG,KAAK,OAAO,EAAE;QACnB,OAAOY,IAAI;MACb;;MAEA;MACA,IAAIA,IAAI,KAAK,WAAW,EAAE,OAAO,IAAI;MAErC,OAAON,IAAI,CAACQ,KAAK,CAACF,IAAI,CAAC;IACzB,CAAC,CAAC,OAAOJ,CAAC,EAAE;MACVC,OAAO,CAACC,IAAI,CAAC,mBAAmBV,GAAG,oBAAoB,EAAEQ,CAAC,CAAC;MAC3D;MACA,IAAIR,GAAG,KAAK,OAAO,EAAE;QACnB,OAAOG,YAAY,CAACU,OAAO,CAACb,GAAG,CAAC;MAClC;MACA,OAAO,IAAI;IACb;EACF,CAAC;EAEDe,MAAMA,CAACf,GAAG,EAAE;IACVG,YAAY,CAACC,UAAU,CAACJ,GAAG,CAAC;EAC9B;AACF,CAAC;AAED,eAAeF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}