{"ast":null,"code":"import { ref, onMounted, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport ApiService from '@/services/ApiService';\nexport default {\n  __name: 'ManageTreatments',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const treatments = ref([]);\n    const filterType = ref('all');\n    const router = useRouter();\n    onMounted(async () => {\n      const {\n        data\n      } = await ApiService.getAllTreatments();\n      treatments.value = data;\n    });\n    const filteredTreatments = computed(() => {\n      if (filterType.value === 'all') return treatments.value;\n      return treatments.value.filter(t => t.type === filterType.value);\n    });\n    const handleDelete = async id => {\n      if (confirm('Yakin ingin menghapus treatment ini?')) {\n        await ApiService.deleteTreatment(id);\n        treatments.value = treatments.value.filter(t => t.id !== id);\n      }\n    };\n    const __returned__ = {\n      treatments,\n      filterType,\n      router,\n      filteredTreatments,\n      handleDelete,\n      ref,\n      onMounted,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      get ApiService() {\n        return ApiService;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","useRouter","ApiService","treatments","filterType","router","data","getAllTreatments","value","filteredTreatments","filter","t","type","handleDelete","id","confirm","deleteTreatment"],"sources":["E:/ibuPintar/frontend/src/views/admin/ManageTreatments.vue"],"sourcesContent":["<template>\r\n  <div class=\"treatment-admin\">\r\n    <div class=\"header\">\r\n      <h2>Manajemen Treatment</h2>\r\n      <button @click=\"router.push('/conpon/treatments/create')\" class=\"add-btn\">+ Tambah Treatment</button>\r\n    </div>\r\n\r\n    <div class=\"tabs\">\r\n      <button :class=\"{ active: filterType === 'all' }\" @click=\"filterType = 'all'\">Semua</button>\r\n      <button :class=\"{ active: filterType === 'single' }\" @click=\"filterType = 'single'\">Single</button>\r\n      <button :class=\"{ active: filterType === 'package' }\" @click=\"filterType = 'package'\">Package</button>\r\n    </div>\r\n\r\n    <div v-if=\"filteredTreatments.length === 0\">Tidak ada treatment ditemukan.</div>\r\n\r\n    <div class=\"treatment-list\">\r\n      <div class=\"treatment-card\" v-for=\"t in filteredTreatments\" :key=\"t.id\">\r\n        <img :src=\"t.imageUrl\" alt=\"gambar\" />\r\n        <h3>{{ t.name }}</h3>\r\n        <p><strong>Durasi:</strong> {{ t.duration }}</p>\r\n        <p><strong>Kategori:</strong> {{ t.category }}</p>\r\n        <p><strong>Harga:</strong> Rp{{ t.price.toLocaleString() }}</p>\r\n        <p><strong>Tipe:</strong> {{ t.type }}</p>\r\n        <div class=\"card-actions\">\r\n          <button @click=\"router.push(`/admin/treatments/edit/${t.id}`)\">Edit</button>\r\n          <button @click=\"handleDelete(t.id)\" class=\"delete\">Hapus</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport ApiService from '@/services/ApiService';\r\n\r\nconst treatments = ref([]);\r\nconst filterType = ref('all');\r\nconst router = useRouter();\r\n\r\nonMounted(async () => {\r\n  const { data } = await ApiService.getAllTreatments();\r\n  treatments.value = data;\r\n});\r\n\r\nconst filteredTreatments = computed(() => {\r\n  if (filterType.value === 'all') return treatments.value;\r\n  return treatments.value.filter((t) => t.type === filterType.value);\r\n});\r\n\r\nconst handleDelete = async (id) => {\r\n  if (confirm('Yakin ingin menghapus treatment ini?')) {\r\n    await ApiService.deleteTreatment(id);\r\n    treatments.value = treatments.value.filter((t) => t.id !== id);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.treatment-admin {\r\n  padding: 1rem;\r\n  max-width: 960px;\r\n  margin: auto;\r\n}\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.add-btn {\r\n  background: #28a745;\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n.tabs {\r\n  margin: 1rem 0;\r\n  display: flex;\r\n  gap: 1rem;\r\n}\r\n.tabs button {\r\n  padding: 0.5rem 1rem;\r\n  border: 1px solid #ccc;\r\n  background: #f8f8f8;\r\n  cursor: pointer;\r\n}\r\n.tabs button.active {\r\n  background: #007bff;\r\n  color: white;\r\n  border-color: #007bff;\r\n}\r\n.treatment-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n.treatment-card {\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  width: 280px;\r\n  background-color: #fafafa;\r\n}\r\n.treatment-card img {\r\n  max-width: 100%;\r\n  border-radius: 6px;\r\n  margin-bottom: 0.5rem;\r\n}\r\n.card-actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 1rem;\r\n}\r\n.card-actions button {\r\n  padding: 0.3rem 0.7rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n.card-actions .delete {\r\n  background: #dc3545;\r\n  color: white;\r\n}\r\n.card-actions button:not(.delete) {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n</style>\r\n"],"mappings":"AAiCA,SAASA,GAAG,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,KAAK;AAC9C,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,UAAU,MAAM,uBAAuB;;;;;;;IAE9C,MAAMC,UAAU,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMM,UAAU,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC7B,MAAMO,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAE1BF,SAAS,CAAC,YAAY;MACpB,MAAM;QAAEO;MAAK,CAAC,GAAG,MAAMJ,UAAU,CAACK,gBAAgB,CAAC,CAAC;MACpDJ,UAAU,CAACK,KAAK,GAAGF,IAAI;IACzB,CAAC,CAAC;IAEF,MAAMG,kBAAkB,GAAGT,QAAQ,CAAC,MAAM;MACxC,IAAII,UAAU,CAACI,KAAK,KAAK,KAAK,EAAE,OAAOL,UAAU,CAACK,KAAK;MACvD,OAAOL,UAAU,CAACK,KAAK,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAKR,UAAU,CAACI,KAAK,CAAC;IACpE,CAAC,CAAC;IAEF,MAAMK,YAAY,GAAG,MAAOC,EAAE,IAAK;MACjC,IAAIC,OAAO,CAAC,sCAAsC,CAAC,EAAE;QACnD,MAAMb,UAAU,CAACc,eAAe,CAACF,EAAE,CAAC;QACpCX,UAAU,CAACK,KAAK,GAAGL,UAAU,CAACK,KAAK,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACG,EAAE,KAAKA,EAAE,CAAC;MAChE;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}