{"ast":null,"code":"import { ref, onMounted, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport ApiService from '@/services/ApiService';\nexport default {\n  __name: 'ManageTreatments',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const treatments = ref([]);\n    const filterType = ref('all');\n    const router = useRouter();\n    const selectedTreatmentId = ref(null);\n    const showModal = ref(false);\n    const packageOptions = ref([]);\n    const selectedPackageId = ref(null);\n    onMounted(async () => {\n      const {\n        data\n      } = await ApiService.getAllTreatments();\n      treatments.value = data;\n    });\n    const filteredTreatments = computed(() => {\n      if (filterType.value === 'all') return treatments.value;\n      return treatments.value.filter(t => t.type === filterType.value);\n    });\n    const handleDelete = async id => {\n      if (confirm('Yakin ingin menghapus treatment ini?')) {\n        await ApiService.deleteTreatment(id);\n        treatments.value = treatments.value.filter(t => t.id !== id);\n      }\n    };\n    const openPackageModal = async treatmentId => {\n      selectedTreatmentId.value = treatmentId;\n      showModal.value = true;\n      const {\n        data\n      } = await ApiService.getAllTreatments(); // ambil semua treatment\n      packageOptions.value = data.filter(t => t.type === 'package'); // filter hanya package\n    };\n    const addToPackage = async () => {\n      try {\n        await ApiService.addToPackage({\n          packageId: selectedPackageId.value,\n          treatmentId: selectedTreatmentId.value\n        });\n        alert('Berhasil ditambahkan ke dalam paket!');\n        showModal.value = false;\n      } catch (err) {\n        alert('Gagal menambahkan ke paket.');\n        console.error(err);\n      }\n    };\n    const __returned__ = {\n      treatments,\n      filterType,\n      router,\n      selectedTreatmentId,\n      showModal,\n      packageOptions,\n      selectedPackageId,\n      filteredTreatments,\n      handleDelete,\n      openPackageModal,\n      addToPackage,\n      ref,\n      onMounted,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      get ApiService() {\n        return ApiService;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","useRouter","ApiService","treatments","filterType","router","selectedTreatmentId","showModal","packageOptions","selectedPackageId","data","getAllTreatments","value","filteredTreatments","filter","t","type","handleDelete","id","confirm","deleteTreatment","openPackageModal","treatmentId","addToPackage","packageId","alert","err","console","error"],"sources":["E:/ibuPintar/frontend/src/views/admin/ManageTreatments.vue"],"sourcesContent":["// File: frontend/src/views/admin/ManageTreatments.vue\r\n<template>\r\n  <div class=\"treatment-admin\">\r\n    <div class=\"header\">\r\n      <h2>Manajemen Treatment</h2>\r\n      <button @click=\"router.push('/admin/treatments/new')\" class=\"add-btn\">+ Tambah Treatment</button>\r\n    </div>\r\n\r\n    <div class=\"tabs\">\r\n      <button :class=\"{ active: filterType === 'all' }\" @click=\"filterType = 'all'\">Semua</button>\r\n      <button :class=\"{ active: filterType === 'single' }\" @click=\"filterType = 'single'\">Single</button>\r\n      <button :class=\"{ active: filterType === 'package' }\" @click=\"filterType = 'package'\">Package</button>\r\n    </div>\r\n\r\n    <div v-if=\"filteredTreatments.length === 0\">Tidak ada treatment ditemukan.</div>\r\n\r\n    <div class=\"treatment-list\">\r\n      <div class=\"treatment-card\" v-for=\"t in filteredTreatments\" :key=\"t.id\">\r\n        <img :src=\"t.imageUrl\" alt=\"gambar\" />\r\n        <h3>{{ t.name }}</h3>\r\n        <p><strong>Durasi:</strong> {{ t.duration }}</p>\r\n        <p><strong>Kategori:</strong> {{ t.category }}</p>\r\n        <p><strong>Harga:</strong> Rp{{ t.price.toLocaleString() }}</p>\r\n        <p><strong>Tipe:</strong> {{ t.type }}</p>\r\n        <div class=\"card-actions\">\r\n          <button @click=\"router.push(`/admin/treatments/edit/${t.id}`)\">Edit</button>\r\n          <button @click=\"handleDelete(t.id)\" class=\"delete\">Hapus</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport ApiService from '@/services/ApiService';\r\n\r\nconst treatments = ref([]);\r\nconst filterType = ref('all');\r\nconst router = useRouter();\r\nconst selectedTreatmentId = ref(null);\r\nconst showModal = ref(false);\r\nconst packageOptions = ref([]);\r\nconst selectedPackageId = ref(null);\r\n\r\n\r\nonMounted(async () => {\r\n  const { data } = await ApiService.getAllTreatments();\r\n  treatments.value = data;\r\n});\r\n\r\nconst filteredTreatments = computed(() => {\r\n  if (filterType.value === 'all') return treatments.value;\r\n  return treatments.value.filter((t) => t.type === filterType.value);\r\n});\r\n\r\nconst handleDelete = async (id) => {\r\n  if (confirm('Yakin ingin menghapus treatment ini?')) {\r\n    await ApiService.deleteTreatment(id);\r\n    treatments.value = treatments.value.filter((t) => t.id !== id);\r\n  }\r\n};\r\nconst openPackageModal = async (treatmentId) => {\r\n  selectedTreatmentId.value = treatmentId;\r\n  showModal.value = true;\r\n  const { data } = await ApiService.getAllTreatments(); // ambil semua treatment\r\n  packageOptions.value = data.filter(t => t.type === 'package'); // filter hanya package\r\n};\r\n\r\nconst addToPackage = async () => {\r\n  try {\r\n    await ApiService.addToPackage({\r\n      packageId: selectedPackageId.value,\r\n      treatmentId: selectedTreatmentId.value,\r\n    });\r\n    alert('Berhasil ditambahkan ke dalam paket!');\r\n    showModal.value = false;\r\n  } catch (err) {\r\n    alert('Gagal menambahkan ke paket.');\r\n    console.error(err);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.treatment-admin {\r\n  padding: 1rem;\r\n  max-width: 960px;\r\n  margin: auto;\r\n}\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.add-btn {\r\n  background: #28a745;\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n.tabs {\r\n  margin: 1rem 0;\r\n  display: flex;\r\n  gap: 1rem;\r\n}\r\n.tabs button {\r\n  padding: 0.5rem 1rem;\r\n  border: 1px solid #ccc;\r\n  background: #f8f8f8;\r\n  cursor: pointer;\r\n}\r\n.tabs button.active {\r\n  background: #007bff;\r\n  color: white;\r\n  border-color: #007bff;\r\n}\r\n.treatment-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n}\r\n.treatment-card {\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  width: 280px;\r\n  background-color: #fafafa;\r\n}\r\n.treatment-card img {\r\n  max-width: 100%;\r\n  border-radius: 6px;\r\n  margin-bottom: 0.5rem;\r\n}\r\n.card-actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 1rem;\r\n}\r\n.card-actions button {\r\n  padding: 0.3rem 0.7rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n.card-actions .delete {\r\n  background: #dc3545;\r\n  color: white;\r\n}\r\n.card-actions button:not(.delete) {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n</style>\r\n"],"mappings":"AAmCA,SAASA,GAAG,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,KAAK;AAC9C,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,UAAU,MAAM,uBAAuB;;;;;;;IAE9C,MAAMC,UAAU,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMM,UAAU,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC7B,MAAMO,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAC1B,MAAMK,mBAAmB,GAAGR,GAAG,CAAC,IAAI,CAAC;IACrC,MAAMS,SAAS,GAAGT,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMU,cAAc,GAAGV,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMW,iBAAiB,GAAGX,GAAG,CAAC,IAAI,CAAC;IAGnCC,SAAS,CAAC,YAAY;MACpB,MAAM;QAAEW;MAAK,CAAC,GAAG,MAAMR,UAAU,CAACS,gBAAgB,CAAC,CAAC;MACpDR,UAAU,CAACS,KAAK,GAAGF,IAAI;IACzB,CAAC,CAAC;IAEF,MAAMG,kBAAkB,GAAGb,QAAQ,CAAC,MAAM;MACxC,IAAII,UAAU,CAACQ,KAAK,KAAK,KAAK,EAAE,OAAOT,UAAU,CAACS,KAAK;MACvD,OAAOT,UAAU,CAACS,KAAK,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAKZ,UAAU,CAACQ,KAAK,CAAC;IACpE,CAAC,CAAC;IAEF,MAAMK,YAAY,GAAG,MAAOC,EAAE,IAAK;MACjC,IAAIC,OAAO,CAAC,sCAAsC,CAAC,EAAE;QACnD,MAAMjB,UAAU,CAACkB,eAAe,CAACF,EAAE,CAAC;QACpCf,UAAU,CAACS,KAAK,GAAGT,UAAU,CAACS,KAAK,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACG,EAAE,KAAKA,EAAE,CAAC;MAChE;IACF,CAAC;IACD,MAAMG,gBAAgB,GAAG,MAAOC,WAAW,IAAK;MAC9ChB,mBAAmB,CAACM,KAAK,GAAGU,WAAW;MACvCf,SAAS,CAACK,KAAK,GAAG,IAAI;MACtB,MAAM;QAAEF;MAAK,CAAC,GAAG,MAAMR,UAAU,CAACS,gBAAgB,CAAC,CAAC,CAAC,CAAC;MACtDH,cAAc,CAACI,KAAK,GAAGF,IAAI,CAACI,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,MAAMO,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMrB,UAAU,CAACqB,YAAY,CAAC;UAC5BC,SAAS,EAAEf,iBAAiB,CAACG,KAAK;UAClCU,WAAW,EAAEhB,mBAAmB,CAACM;QACnC,CAAC,CAAC;QACFa,KAAK,CAAC,sCAAsC,CAAC;QAC7ClB,SAAS,CAACK,KAAK,GAAG,KAAK;MACzB,CAAC,CAAC,OAAOc,GAAG,EAAE;QACZD,KAAK,CAAC,6BAA6B,CAAC;QACpCE,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MACpB;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}